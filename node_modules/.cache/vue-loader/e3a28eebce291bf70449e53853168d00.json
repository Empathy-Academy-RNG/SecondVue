{"remainingRequest":"/Users/raul/Desktop/FirstVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raul/Desktop/FirstVue/src/views/Movie.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raul/Desktop/FirstVue/src/views/Movie.vue","mtime":1620033002432},{"path":"/Users/raul/Desktop/FirstVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBNb3ZpZVBhbmVsIGZyb20gIkAvY29tcG9uZW50cy9Nb3ZpZVBhbmVsIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW92aWUiLAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmlkU2VsZWN0ZWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMubW92aWVJZDsKICAgIHRoaXMuc2VsZWN0ZWRNb3ZpZURhdGEgPSBhd2FpdCB0aGlzLnNwZWNpZmljTW92aWVSZXF1ZXN0KHRoaXMuaWRTZWxlY3RlZCk7CiAgICBhd2FpdCB0aGlzLmdldE1vdmllUG9zdGVyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzcGVjaWZpY01vdmllUmVxdWVzdChpZE9mTW92aWVSZXF1ZXN0ZWQpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXF1ZXN0QWRkciA9CiAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3RpdGxlcy8iICsgaWRPZk1vdmllUmVxdWVzdGVkOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVxdWVzdEFkZHIpOwogICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGlmIChlcnIubmFtZSA9PT0gIkFib3J0RXJyb3IiKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiUmVxdWVzdCBhYm9ydGVkIGR1ZSB0byB0aW1lb3V0Iik7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGFjY2Vzc2luZyB0aGUgc2VhcmNoIGRhdGE6ICIgKyBlcnIudG9TdHJpbmcoKQogICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRNb3ZpZVBvc3RlcjogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgNDAwMCk7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcG9zdGVyRGF0YVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goCiAgICAgICAgICAiaHR0cDovL29tZGJhcGkuY29tLz9hcGlrZXk9N2ZkNzc3MTAmaT0iICsgdGhpcy5pZFNlbGVjdGVkCiAgICAgICAgKTsKICAgICAgICBjb25zdCBvbWRiRGF0YVJldHJpZXZlZCA9IGF3YWl0IHBvc3RlckRhdGFSZXNwb25zZS5qc29uKCk7CiAgICAgICAgaWYgKG9tZGJEYXRhUmV0cmlldmVkLlBvc3RlciAhPT0gIk4vQSIpIHsKICAgICAgICAgIHRoaXMuJHNldCgKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1vdmllRGF0YSwKICAgICAgICAgICAgInBvc3RlclVybCIsCiAgICAgICAgICAgIG9tZGJEYXRhUmV0cmlldmVkLlBvc3RlcgogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGlmIChlcnIubmFtZSA9PT0gIkFib3J0IGVycm9yIikgewogICAgICAgICAgY29uc29sZS5sb2coIlJlcXVlc3QgYWJvcnRlZCBkdWUgdG8gdGltZW91dCIpOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gYWNjZXNzIHRoZSBtb3ZpZSBkYXRhOiAiICsKICAgICAgICAgICAgZXJyLnRvU3RyaW5nKCkKICAgICAgICApOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGlkU2VsZWN0ZWQ6IC0xLAogICAgICBzZWxlY3RlZE1vdmllRGF0YTogbnVsbAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1vdmllUGFuZWw6IE1vdmllUGFuZWwKICB9Cn07Cg=="},{"version":3,"sources":["Movie.vue"],"names":[],"mappings":";;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Movie.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <MoviePanel v-bind:selected-movie-data=\"selectedMovieData\"> </MoviePanel>\n</template>\n\n<script>\nimport MoviePanel from \"@/components/MoviePanel\";\n\nexport default {\n  name: \"Movie\",\n  async created() {\n    this.idSelected = this.$route.params.movieId;\n    this.selectedMovieData = await this.specificMovieRequest(this.idSelected);\n    await this.getMoviePoster();\n  },\n  methods: {\n    async specificMovieRequest(idOfMovieRequested) {\n      try {\n        const requestAddr =\n          \"http://localhost:8080/titles/\" + idOfMovieRequested;\n        const response = await fetch(requestAddr);\n        return await response.json();\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"Request aborted due to timeout\");\n        }\n        console.log(\n          \"An error occurred while accessing the search data: \" + err.toString()\n        );\n      }\n    },\n    getMoviePoster: async function() {\n      let controller = new AbortController();\n      setTimeout(() => controller.abort(), 4000);\n      try {\n        const posterDataResponse = await fetch(\n          \"http://omdbapi.com/?apikey=7fd77710&i=\" + this.idSelected\n        );\n        const omdbDataRetrieved = await posterDataResponse.json();\n        if (omdbDataRetrieved.Poster !== \"N/A\") {\n          this.$set(\n            this.selectedMovieData,\n            \"posterUrl\",\n            omdbDataRetrieved.Poster\n          );\n        }\n      } catch (err) {\n        if (err.name === \"Abort error\") {\n          console.log(\"Request aborted due to timeout\");\n        }\n        console.log(\n          \"An error occurred while trying to access the movie data: \" +\n            err.toString()\n        );\n      }\n    }\n  },\n  data: function() {\n    return {\n      idSelected: -1,\n      selectedMovieData: null\n    };\n  },\n  components: {\n    MoviePanel: MoviePanel\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}