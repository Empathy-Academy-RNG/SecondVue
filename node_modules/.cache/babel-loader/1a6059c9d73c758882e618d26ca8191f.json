{"remainingRequest":"/Users/raul/Desktop/FirstVue/node_modules/thread-loader/dist/cjs.js!/Users/raul/Desktop/FirstVue/node_modules/babel-loader/lib/index.js!/Users/raul/Desktop/FirstVue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/raul/Desktop/FirstVue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raul/Desktop/FirstVue/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raul/Desktop/FirstVue/src/views/Home.vue","mtime":1616013904744},{"path":"/Users/raul/Desktop/FirstVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raul/Desktop/FirstVue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yYXVsL0Rlc2t0b3AvRmlyc3RWdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1vdmllUGFuZWwgZnJvbSAiQC9jb21wb25lbnRzL01vdmllUGFuZWwiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2VhcmNoUmVxdWVzdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoUmVxdWVzdDogZnVuY3Rpb24gc2VhcmNoUmVxdWVzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIHNlYXJjaERhdGFSZXRyaWV2ZWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5tb3ZpZXMgIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU2VhcmNoIGRhdGEgYWxyZWFkeSByZXRyaWV2ZWQiKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvc2VhcmNoIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBzZWFyY2hEYXRhUmV0cmlldmVkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIubW92aWVzID0gc2VhcmNoRGF0YVJldHJpZXZlZC5pdGVtczsKICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZE1vdmllRGF0YSA9IG51bGw7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGFjY2Vzc2luZyB0aGUgc2VhcmNoIGRhdGE6ICIgKyBfY29udGV4dDIudDAudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRNb3ZpZURhdGEgPSAtMTsKICAgICAgICAgICAgICAgIF90aGlzMi5tb3ZpZXMgPSBudWxsOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDE0XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWxlY3RNb3ZpZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlbGVjdE1vdmllID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhpbmRleENob3NlbikgewogICAgICAgIHZhciBhbGxNb3ZpZURhdGFSZXNwb25zZSwgcG9zdGVyRGF0YVJlc3BvbnNlLCBvbWRiRGF0YVJldHJpZXZlZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZElEID0gdGhpcy5tb3ZpZXNbaW5kZXhDaG9zZW5dLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbW92aWVzLyIgKyB0aGlzLnNlbGVjdGVkSUQpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBhbGxNb3ZpZURhdGFSZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vb21kYmFwaS5jb20vP2FwaWtleT00OTBiMjI0NiZpPSIgKyB0aGlzLnNlbGVjdGVkSUQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBwb3N0ZXJEYXRhUmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdGVyRGF0YVJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIG9tZGJEYXRhUmV0cmlldmVkID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGFsbE1vdmllRGF0YVJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNb3ZpZURhdGEgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnNlbGVjdGVkTW92aWVEYXRhLCAicG9zdGVyVXJsIiwgb21kYkRhdGFSZXRyaWV2ZWQuUG9zdGVyKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTc7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGFjY2VzcyB0aGUgbW92aWUgZGF0YTogIiArIF9jb250ZXh0My50MC50b1N0cmluZygpKTsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNb3ZpZURhdGEgPSAtMTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1sxLCAxN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VsZWN0TW92aWUoX3gpIHsKICAgICAgICByZXR1cm4gX3NlbGVjdE1vdmllLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWxlY3RNb3ZpZTsKICAgIH0oKQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vdmllczogbnVsbCwKICAgICAgc2VsZWN0ZWRJRDogbnVsbCwKICAgICAgc2VsZWN0ZWRNb3ZpZURhdGE6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNb3ZpZVBhbmVsOiBNb3ZpZVBhbmVsCiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,UAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,OAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,aAAA,EADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAJA;AAKA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,MAAA,CAAA,MAAA,IAAA,IADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,+BAAA;AAFA;;AAAA;AAAA;AAAA;AAAA,uBAMA,KAAA,CAAA,8BAAA,CANA;;AAAA;AAMA,gBAAA,QANA;AAAA;AAAA,uBAOA,QAAA,CAAA,IAAA,EAPA;;AAAA;AAOA,gBAAA,mBAPA;AAQA,gBAAA,MAAA,CAAA,MAAA,GAAA,mBAAA,CAAA,KAAA;AACA,gBAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AATA;AAAA;;AAAA;AAAA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA,CACA,wDAAA,aAAA,QAAA,EADA;AAGA,gBAAA,MAAA,CAAA,iBAAA,GAAA,CAAA,CAAA;AACA,gBAAA,MAAA,CAAA,MAAA,GAAA,IAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAmBA,IAAA,WAAA;AAAA,iFAAA,kBAAA,WAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAA,UAAA,GAAA,KAAA,MAAA,CAAA,WAAA,EAAA,EAAA;AADA;AAAA;AAAA,uBAGA,KAAA,CACA,kCAAA,KAAA,UADA,CAHA;;AAAA;AAGA,gBAAA,oBAHA;AAAA;AAAA,uBAMA,KAAA,CACA,2CAAA,KAAA,UADA,CANA;;AAAA;AAMA,gBAAA,kBANA;AAAA;AAAA,uBASA,kBAAA,CAAA,IAAA,EATA;;AAAA;AASA,gBAAA,iBATA;AAAA;AAAA,uBAUA,oBAAA,CAAA,IAAA,EAVA;;AAAA;AAUA,qBAAA,iBAVA;AAWA,qBAAA,IAAA,CACA,KAAA,iBADA,EAEA,WAFA,EAGA,iBAAA,CAAA,MAHA;AAXA;AAAA;;AAAA;AAAA;AAAA;AAiBA,gBAAA,OAAA,CAAA,GAAA,CACA,8DACA,aAAA,QAAA,EAFA;AAIA,qBAAA,iBAAA,GAAA,CAAA,CAAA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAnBA,GALA;AAiDA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,IAFA;AAGA,MAAA,iBAAA,EAAA;AAHA,KAAA;AAKA,GAvDA;AAwDA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA;AAxDA,CAAA","sourcesContent":["<template>\n  <div>\n    <div v-if=\"movies\" id=\"list-of-movies\" data-test=\"list-of-movies\">\n      <ul>\n        <li\n          class=\"movie-list-element\"\n          v-for=\"(movie, index) in movies\"\n          :key=\"movie.id\"\n          data-test=\"movie-list-item\"\n        >\n          <a\n            class=\"movie-list-link\"\n            @click.prevent=\"selectMovie(index)\"\n            href=\"\"\n            data-test=\"movie-list-link\"\n            >{{ movie.title }} ({{ movie.startYear }})</a\n          >\n        </li>\n      </ul>\n    </div>\n    <div v-else id=\"search-fail-panel\">\n      <h1>The search request failed, please try again.</h1>\n      <button\n        data-test=\"retry-btn\"\n        id=\"try-again-btn\"\n        @click.prevent=\"searchRequest()\"\n      >\n        Search again\n      </button>\n    </div>\n    <div id=\"movie-info-panel\">\n      <MoviePanel :selected-movie-data=\"selectedMovieData\"></MoviePanel>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MoviePanel from \"@/components/MoviePanel\";\n\nexport default {\n  name: \"Home\",\n  async created() {\n    await this.searchRequest();\n  },\n  methods: {\n    async searchRequest() {\n      if (this.movies != null) {\n        console.log(\"Search data already retrieved\");\n        return;\n      }\n      try {\n        const response = await fetch(\"http://localhost:3000/search\");\n        const searchDataRetrieved = await response.json();\n        this.movies = searchDataRetrieved.items;\n        this.selectedMovieData = null;\n      } catch (err) {\n        console.log(\n          \"An error occurred while accessing the search data: \" + err.toString()\n        );\n        this.selectedMovieData = -1;\n        this.movies = null;\n      }\n    },\n    selectMovie: async function(indexChosen) {\n      this.selectedID = this.movies[indexChosen].id;\n      try {\n        const allMovieDataResponse = await fetch(\n          \"http://localhost:3000/movies/\" + this.selectedID\n        );\n        const posterDataResponse = await fetch(\n          \"http://omdbapi.com/?apikey=490b2246&i=\" + this.selectedID\n        );\n        const omdbDataRetrieved = await posterDataResponse.json();\n        this.selectedMovieData = await allMovieDataResponse.json();\n        this.$set(\n          this.selectedMovieData,\n          \"posterUrl\",\n          omdbDataRetrieved.Poster\n        );\n      } catch (err) {\n        console.log(\n          \"An error occurred while trying to access the movie data: \" +\n            err.toString()\n        );\n        this.selectedMovieData = -1;\n      }\n    }\n  },\n  data: function() {\n    return {\n      movies: null,\n      selectedID: null,\n      selectedMovieData: null\n    };\n  },\n  components: {\n    MoviePanel: MoviePanel\n  }\n};\n</script>\n<style>\nhtml,\nbody {\n  height: 100%;\n  width: 100%;\n  background-image: linear-gradient(to right, blue, purple);\n  color: white;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n#list-of-movies {\n  width: 49.5%;\n  float: left;\n  text-align: center;\n  border-right: 2px solid white;\n}\n\n#search-fail-panel {\n  width: 49.5%;\n  float: left;\n  text-align: center;\n  color: white;\n  position: fixed;\n  top: 190px;\n}\n\n#try-again-btn {\n  border: 1px solid white;\n  padding: 10px 20px;\n  color: white;\n  background-color: transparent;\n  font-family: Avenir, sans-serif;\n  font-size: 1em;\n}\n\n#try-again-btn:hover {\n  color: black;\n  background-color: white;\n  cursor: pointer;\n}\n\nul {\n  width: 100%;\n}\n\nli.movie-list-element {\n  list-style: none;\n  width: 80%;\n  text-align: center;\n  padding: 20px;\n  font-size: 1.25em;\n  height: 100px;\n}\n\na {\n  text-decoration: none;\n}\n\na.movie-list-link {\n  font-size: 1em;\n  padding: 10px;\n  color: white;\n  line-height: 2px;\n  border-bottom: 2px solid transparent;\n}\n\na.movie-list-link:hover {\n  border-bottom: 2px solid white;\n}\n\n@media (max-width: 1000px) {\n  #list-of-movies {\n    width: 50%;\n    border: none;\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}